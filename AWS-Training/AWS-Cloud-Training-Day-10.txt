AWS EVENT-DRIVEN ARCHITECTURE PROJECT  
Integration of S3, SNS & Lambda | File Upload Notification System   

=========================================  
ğŸ” OBJECTIVE  
=========================================  
Build a serverless, event-driven architecture using AWS services:  
- Uploading a file to S3 â†’  
- Triggers a Lambda function â†’  
- Sends a notification using SNS â†’  
- Delivers email alert to the subscriber.

=========================================  
ğŸ§° AWS SERVICES USED  
=========================================  
- Amazon S3 (Simple Storage Service)  
- Amazon SNS (Simple Notification Service)  
- AWS Lambda (Python Runtime)  
- AWS CloudWatch (for logs)  
- IAM (Identity and Access Management)

=========================================  
ğŸš€ STEP-BY-STEP IMPLEMENTATION  
=========================================  

1ï¸âƒ£ S3: CREATE BUCKET  
-----------------------------------------  
- Go to AWS Console â†’ Services â†’ S3  
- Click â€œCreate bucketâ€  
- Enter a unique name (e.g., `event-driven-kiran-bucket`)  
- Leave other settings as default  
- Click â€œCreate bucketâ€  

2ï¸âƒ£ SNS: CREATE TOPIC & SUBSCRIPTION  
-----------------------------------------  
- Go to Services â†’ SNS  
- Click â€œCreate topicâ€  
- Type: Standard  
- Name: `S3UploadTopic`  
- Click â€œCreate topicâ€  

Create Subscription:  
- Go to your created topic â†’ Click â€œCreate subscriptionâ€  
- Protocol: `Email`  
- Endpoint: `kiranrakh155@gmail.com`  
- Click â€œCreate subscription`  
âœ… Approve the subscription from your email inbox  

3ï¸âƒ£ LAMBDA: CREATE NEW FUNCTION  
-----------------------------------------  
- Go to Services â†’ Lambda  
- Click â€œCreate functionâ€ â†’ Author from scratch  
- Name: `S3ToSNSNotification`  
- Runtime: Python 3.x  
- Click â€œCreate functionâ€  

âœï¸ Edit the code with the following Python script:

```python
import boto3

mysns = boto3.client("sns")

def lambda_handler(event, context):
    mysns.publish(
        TopicArn='arn:aws:sns:<your-region>:<your-account-id>:S3UploadTopic',
        Message='A new file has been uploaded to the S3 bucket.',
        Subject='New S3 File Alert'
    )
    print("Kiran this side from AWS team ... calling SNS ...!!!")

--------------------------------------------------------------------
ğŸ› ï¸ After editing:

Click â€œDeployâ€

Optionally: Change handler name in "Configuration" â†’ "General Configuration"

4ï¸âƒ£ IAM: PERMISSION SETUP FOR LAMBDA
Go to Lambda â†’ Select your function

Click â€œConfigurationâ€ â†’ â€œPermissionsâ€

Click the role name under â€œExecution Roleâ€

Click â€œAdd permissionsâ€ â†’ â€œAttach policiesâ€

Search: AmazonSNSFullAccess

Select and attach this policy

5ï¸âƒ£ LINK S3 TO LAMBDA (EVENT NOTIFICATION)
Go to S3 â†’ Your bucket â†’ â€œPropertiesâ€

Scroll to â€œEvent notificationsâ€ â†’ â€œCreate event notificationâ€

Name: TriggerLambdaOnUpload

Event Type: â€œPUTâ€ (Object Created)

Destination: Lambda Function

Choose: S3ToSNSNotification

Click â€œSaveâ€

6ï¸âƒ£ TEST IT
Go to S3 â†’ Your bucket

Click â€œUploadâ€ â†’ Upload any file (e.g., test3.txt)

âœ… Lambda gets triggered automatically

7ï¸âƒ£ VERIFY IN CLOUDWATCH
Go to Services â†’ CloudWatch

Click â€œLog groupsâ€

Find and open log group for S3ToSNSNotification

Check logs for print statements and SNS execution

=========================================
ğŸ“© FINAL USE CASE
âœ”ï¸ This architecture enables automatic email notifications whenever a new file is uploaded to S3.
âœ”ï¸ Useful in automation pipelines, audit alerts, or real-time monitoring.
âœ”ï¸ No servers involved â€“ fully managed serverless stack using AWS-native services.

=========================================
ğŸ“ EXTRAS / CUSTOMIZATION TIPS
You can rename your function, bucket, topic, and handler anytime

Edit handler in Lambda settings if function name is changed

Modify message content inside Lambda as per business needs

Make sure all AWS resources are in the same region

=========================================
ğŸ” IAM ROLES & KEYS
Make sure Lambda role has AmazonSNSFullAccess

S3 needs permission to trigger Lambda (done during event notification setup)

No access keys needed as Lambda uses IAM role permissions